–ù–∏–∂–µ ‚Äî –≥–æ—Ç–æ–≤–æ–µ **–æ–ø–∏—Å–∞–Ω–∏–µ –¥–ª—è `README.md`**, –≤ –Ω–µ–π—Ç—Ä–∞–ª—å–Ω–æ–º —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–º —Å—Ç–∏–ª–µ, –ø–æ–¥—Ö–æ–¥—è—â–µ–µ –¥–ª—è GitHub-—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è.

---

# Ubuntu 20.04 Cloud Template for Proxmox (SDN-ready)

–ú–∏–Ω–∏–º–∞–ª–∏—Å—Ç–∏—á–Ω—ã–π bash-—Å–∫—Ä–∏–ø—Ç –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è **cloud-init —à–∞–±–ª–æ–Ω–∞ (template) Ubuntu 20.04** –≤ **Proxmox VE**, –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –¥–ª—è **–º–∞—Å—Å–æ–≤–æ–≥–æ –∫–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è** –∏ **SDN-—Å–µ—Ç–µ–π**.

–®–∞–±–ª–æ–Ω —Å–æ–∑–¥–∞—ë—Ç—Å—è –æ–¥–∏–Ω —Ä–∞–∑ –∏ –¥–∞–ª–µ–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ —Ä–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏—è VM —á–µ—Ä–µ–∑ `qm clone`.

---

## ‚ú® –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

* ‚úÖ –û—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π **Ubuntu 20.04 cloud image (disk-kvm)**
* ‚úÖ –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω –¥–ª—è **Proxmox / QEMU**
* ‚úÖ **SDN-friendly** (bridge –∑–∞–¥–∞—ë—Ç—Å—è –ø—Ä–∏ –∫–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–∏)
* ‚úÖ Cloud-init (DHCP, hostname, SSH keys)
* ‚úÖ –ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è **–º–∞—Å—Å–æ–≤–æ–≥–æ –∫–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è**
* ‚úÖ –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∏ overhead
* ‚úÖ –°–æ–≤–º–µ—Å—Ç–∏–º —Å **Proxmox VE 7 / 8**

---

## üì¶ –ò—Å–ø–æ–ª—å–∑—É–µ–º—ã–π –æ–±—Ä–∞–∑

–°–∫—Ä–∏–ø—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π cloud-–æ–±—Ä–∞–∑ Ubuntu, —Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–Ω—ã–π –¥–ª—è KVM:

```
focal-server-cloudimg-amd64-disk-kvm.img
```

–ò—Å—Ç–æ—á–Ω–∏–∫:
[https://cloud-images.ubuntu.com/focal/current/](https://cloud-images.ubuntu.com/focal/current/)

---

## üìã –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

* Proxmox VE 7 –∏–ª–∏ 8
* Storage `local-lvm`
* –î–æ—Å—Ç—É–ø –≤ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ cloud image
* –ó–∞–ø—É—Å–∫ –æ—Ç `root`

---

## üöÄ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

```bash
./ubuntu2004-template.sh <TEMPLATE_VMID> <RAM_MB> <DISK_GB> <CORES>
```

### –ü—Ä–∏–º–µ—Ä:

```bash
./ubuntu2004-template.sh 9000 512 4 1
```

–ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è VM –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –±—É–¥–µ—Ç –ø–µ—Ä–µ–≤–µ–¥–µ–Ω–∞ –≤ **template**.

---

## üß± –ß—Ç–æ –¥–µ–ª–∞–µ—Ç —Å–∫—Ä–∏–ø—Ç

1. –ó–∞–≥—Ä—É–∂–∞–µ—Ç –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π Ubuntu 20.04 cloud image
2. –°–æ–∑–¥–∞—ë—Ç VM —Å –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π
3. –ò–º–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç –¥–∏—Å–∫ –≤ `local-lvm`
4. –ü–æ–¥–∫–ª—é—á–∞–µ—Ç cloud-init –¥–∏—Å–∫
5. –£–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç —Ä–∞–∑–º–µ—Ä root-–¥–∏—Å–∫–∞
6. –û—á–∏—â–∞–µ—Ç cloud-init —Å–æ—Å—Ç–æ—è–Ω–∏–µ
7. –ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ—Ç VM –≤ **template**

> ‚ö†Ô∏è Template **–Ω–µ –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω –¥–ª—è –∑–∞–ø—É—Å–∫–∞**

---

## üåê –†–∞–±–æ—Ç–∞ —Å —Å–µ—Ç—å—é (SDN)

–í —à–∞–±–ª–æ–Ω–µ **–Ω–µ –∑–∞–¥–∞–Ω bridge**:

```bash
--net0 virtio
```

–°–µ—Ç—å —É–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è **–ø—Ä–∏ –∫–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–∏**, —á—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:

* SDN (VXLAN / EVPN)
* –æ–±—ã—á–Ω—ã–µ bridges
* VLAN

### –ü—Ä–∏–º–µ—Ä (SDN):

```bash
qm clone 9000 101 --name web01
qm set 101 --net0 virtio,bridge=sdn-prod
qm start 101
```

### –ü—Ä–∏–º–µ—Ä (vmbr0):

```bash
qm set 101 --net0 virtio,bridge=vmbr0
```

### –ü—Ä–∏–º–µ—Ä (VLAN):

```bash
qm set 101 --net0 virtio,bridge=vmbr0,tag=100
```

---

## üîê Cloud-init –∏ –¥–æ—Å—Ç—É–ø

* –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: `ubuntu`
* –ü–∞—Ä–æ–ª—å –Ω–µ –∑–∞–¥–∞—ë—Ç—Å—è
* –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å SSH-–∫–ª—é—á–∏:

```bash
qm set 101 --sshkey ~/.ssh/id_rsa.pub
```

---

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

* ‚ùå –ù–µ –∑–∞–ø—É—Å–∫–∞—Ç—å template
* ‚ùå –ù–µ –ø—Ä–∏–≤—è–∑—ã–≤–∞—Ç—å —Å–µ—Ç—å –≤ template
* ‚ùå –ù–µ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å –ø–∞–∫–µ—Ç—ã –ø–æ—Å–ª–µ `qm template`

–ï—Å–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è –∫–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏—è:

1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ VM **–¥–æ** `qm template`
2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –Ω—É–∂–Ω—ã–µ –ø–∞–∫–µ—Ç—ã
3. –í—ã–ø–æ–ª–Ω–∏—Ç–µ `cloud-init clean`
4. –í—ã–∫–ª—é—á–∏—Ç–µ VM
5. –¢–æ–ª—å–∫–æ –ø–æ—Å–ª–µ —ç—Ç–æ–≥–æ —Å–¥–µ–ª–∞–π—Ç–µ template

---

## üß† –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ

–°–∫—Ä–∏–ø—Ç –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω –¥–ª—è:

* CI/CD
* Dev/Test –æ–∫—Ä—É–∂–µ–Ω–∏–π
* Kubernetes / Docker –Ω–æ–¥
* –ú–∞—Å—Å–æ–≤–æ–≥–æ —Ä–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏—è VM
* SDN-–∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä –≤ Proxmox

---

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

MIT / Public Domain ‚Äî –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–≤–æ–±–æ–¥–Ω–æ.

---

–ï—Å–ª–∏ –Ω—É–∂–Ω–æ, –º–æ–≥—É –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ:

* –æ–ø–∏—Å–∞—Ç—å –ø—Ä–æ—Ü–µ—Å—Å **golden image**
* –¥–æ–±–∞–≤–∏—Ç—å –ø–æ–¥–¥–µ—Ä–∂–∫—É Ubuntu 22.04 / 24.04
* —Å–¥–µ–ª–∞—Ç—å —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π multi-distro template
* –¥–æ–±–∞–≤–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –º–∞—Å—Å–æ–≤—ã–π –∫–ª–æ–Ω–∏–Ω–≥

üöÄ
